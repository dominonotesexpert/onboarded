{
  "version": 3,
  "sources": ["../../../app/routes/workflows.new.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/workflows.new.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/workflows.new.tsx\");\n  import.meta.hot.lastModified = \"1763421123766.2278\";\n}\n// REMIX HMR END\n\nimport { json } from \"@remix-run/node\";\nimport { useLoaderData, Form, useActionData } from \"@remix-run/react\";\nimport { definitionToReactFlow, reactFlowToDefinition } from \"~/utils/workflow-transform\";\nimport { demoWorkflows } from \"~/data/demo-workflows\";\nimport { FlowBuilder } from \"~/components/builder/FlowBuilder\";\nimport { useState } from \"react\";\nimport { createWorkflow } from \"~/services/workflows/workflow.server\";\nimport { ClientOnly } from \"~/components/common/ClientOnly\";\nexport async function loader({}) {\n  const template = demoWorkflows[0];\n  return json({\n    workflow: template\n  });\n}\nexport async function action({\n  request\n}) {\n  const formData = await request.formData();\n  const parsed = JSON.parse(String(formData.get(\"definition\") ?? \"{}\"));\n  const definition = reactFlowToDefinition(parsed.nodes ?? [], parsed.edges ?? []);\n  const workflow = await createWorkflow({\n    name: String(formData.get(\"name\") ?? \"Untitled Workflow\"),\n    description: String(formData.get(\"description\") ?? \"\"),\n    definition\n  });\n  return json({\n    workflow\n  }, {\n    status: 201\n  });\n}\nexport default function NewWorkflowRoute() {\n  _s();\n  const {\n    workflow\n  } = useLoaderData();\n  const actionData = useActionData();\n  const [definition, setDefinition] = useState(() => definitionToReactFlow(workflow.definition));\n  return <div className=\"px-8 py-10 space-y-8\">\n      <Form method=\"post\" className=\"space-y-6\">\n        <header className=\"flex flex-wrap items-end justify-between gap-4\">\n          <div className=\"flex-1 min-w-[240px]\">\n            <p className=\"text-xs uppercase tracking-[0.4em] text-white/50\">Builder</p>\n            <h2 className=\"text-3xl font-semibold text-white\">Create Workflow</h2>\n          </div>\n          <div className=\"flex gap-3\">\n            <button className=\"btn-secondary\" type=\"submit\" name=\"action\" value=\"draft\">\n              Save Draft\n            </button>\n            <button className=\"btn-primary\" type=\"submit\" name=\"action\" value=\"publish\">\n              Publish\n            </button>\n          </div>\n        </header>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <label className=\"space-y-2\">\n            <span className=\"text-xs uppercase tracking-[0.3em] text-white/60\">Name</span>\n            <input className=\"w-full bg-white/5 border border-white/10 rounded-xl px-3 py-2 text-white\" name=\"name\" defaultValue=\"New Workflow\" />\n          </label>\n          <label className=\"space-y-2\">\n            <span className=\"text-xs uppercase tracking-[0.3em] text-white/60\">Description</span>\n            <input className=\"w-full bg-white/5 border border-white/10 rounded-xl px-3 py-2 text-white\" name=\"description\" placeholder=\"Describe the automation\" />\n          </label>\n        </div>\n\n        <input type=\"hidden\" name=\"definition\" value={JSON.stringify({\n        nodes: definition.nodes,\n        edges: definition.edges\n      })} />\n      </Form>\n\n      {actionData?.workflow ? <div className=\"card border-emerald-400/40\">\n          <p className=\"text-sm text-emerald-300\">\n            Workflow saved (id: {actionData.workflow.id}). Continue editing whenever you're ready.\n          </p>\n        </div> : null}\n\n      <ClientOnly fallback={<div className=\"h-[640px] bg-white/5 rounded-3xl animate-pulse\" />}>\n        {() => <FlowBuilder key=\"new-workflow-builder\" initialNodes={definition.nodes} initialEdges={definition.edges} onChange={payload => setDefinition(payload)} />}\n      </ClientOnly>\n    </div>;\n}\n_s(NewWorkflowRoute, \"X5awCmP018zm17B16DqqaDBBVcQ=\", false, function () {\n  return [useLoaderData, useActionData];\n});\n_c = NewWorkflowRoute;\nvar _c;\n$RefreshReg$(_c, \"NewWorkflowRoute\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["import_react"]
}
